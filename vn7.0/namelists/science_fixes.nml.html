
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>6.18. science_fixes.nml &#8212; Joint UK Land Environment Simulator (JULES) v7.0 User Guide</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/jules-tweaks.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="6.19. timesteps.nml" href="timesteps.nml.html" />
    <link rel="prev" title="6.17. jules_irrig.nml" href="jules_irrig.nml.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../nml-modindex.html" title="Fortran Namelist Index"
             >namelists</a> |</li>
        <li class="right" >
          <a href="timesteps.nml.html" title="6.19. timesteps.nml"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="jules_irrig.nml.html" title="6.17. jules_irrig.nml"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Joint UK Land Environment Simulator (JULES) v7.0 User Guide</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contents.html" accesskey="U">6. The JULES namelist files</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="science-fixes-nml">
<h1>6.18. <code class="docutils literal notranslate"><span class="pre">science_fixes.nml</span></code><a class="headerlink" href="#science-fixes-nml" title="Permalink to this headline">¶</a></h1>
<p>This file contains one namelist called <a class="reference internal" href="#namelist-JULES_TEMP_FIXES"><code class="xref nml nml-lst docutils literal notranslate"><span class="pre">JULES_TEMP_FIXES</span></code></a>.</p>
<p>This namelist sets ‘short-term’ temporary logicals used to protect science bug
fixes that lead to alterations in science results. It is expected that these
logicals will be short lived as the preference should be for all configurations
to use the corrected code. However, to maintain short term reproducibility of
results across JULES versions the fixes are protected by logicals until the
fixes become the default in all model configurations at which point the logical
is retired. See module for when the switch is due for review.</p>
<div class="section" id="namelist-JULES_TEMP_FIXES">
<span id="jules-temp-fixes-namelist-members"></span><h2>6.18.1. <code class="docutils literal notranslate"><span class="pre">JULES_TEMP_FIXES</span></code> namelist members<a class="headerlink" href="#namelist-JULES_TEMP_FIXES" title="Permalink to this headline">¶</a></h2>
<dl class="member">
<dt id="JULES_TEMP_FIXES::ctile_orog_fix">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">ctile_orog_fix</code><a class="headerlink" href="#JULES_TEMP_FIXES::ctile_orog_fix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">integer</td>
</tr>
<tr class="field-even field"><th class="field-name">Permitted:</th><td class="field-body">0-2</td>
</tr>
<tr class="field-odd field"><th class="field-name">Default:</th><td class="field-body">2</td>
</tr>
</tbody>
</table>
<p>If nonzero, corrects the surface exchange calculations in coastally
tiled grid-boxes, assuming that the lowest level is physically
terrain following and adjusting the temperature of the land/sea
portions in accordance with their relative offset from the grid-box
mean height using a dry/moist lapse rate where appropriate. Option 2
will only adjust values over the sea.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_accurate_rho">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_accurate_rho</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_accurate_rho" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>This switch improves the calculation of surface air density in the
surface turbulent fluxes.  It includes appropriate use of dry air density
when the atmospheric water vapour is expressed as a mixing ratio
(l_mr_physics = .TRUE.), otherwise use the wet air density when
it is expressed as a specific humidity.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_dtcanfix">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_dtcanfix</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_dtcanfix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>This switch corrects a bug in the evolution of the skin temperature in
the implicit solver,
whereby the change in the skin temperature is
artificially constrained. This generally has a small effect,
but can
cause unphysical results if a canopy with a large heat capacity is
coupled to an underlying substrate with a small heat capacity.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_alb_ice_thick">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_alb_ice_thick</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_alb_ice_thick" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>When zero-layer sea ice is used the thermodynamics is calculated in the
UM through an effective thickness calculated from snow and ice thicknesses
and associated thermal conductivities. With multi-layer sea ice the
thermodynamics is calculated in the sea ice component of the model, and
the effective thickness is no longer required.  However, it was still
being used erroneously. This fix removes the effective thickness
adjustment when multi-layer sea ice is used.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_albsnow_ts">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_albsnow_ts</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_albsnow_ts" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>The original version of the two-stream scheme to calculate the albedo
of snow in JULES contains a bug in the calculation of the reflection
coefficient that renders very thin layers of snow too reflective.
This logical applies the appropriate correction when it is enabled.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_lake_ice_temperatures">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_lake_ice_temperatures</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_lake_ice_temperatures" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>If true, allows sea ice temperatures in lakes to evolve over time
for coupled models when the lake is defined as a sea point but is
not coupled to an ocean model.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_moruses_roof_rad_coupling">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_moruses_roof_rad_coupling</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_moruses_roof_rad_coupling" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>If true, this switch corrects a bug in the surface energy balance
when the MORUSES radiative roof coupling is used
(see <a class="reference internal" href="urban.nml.html#JULES_URBAN::l_moruses_storage" title="JULES_URBAN::l_moruses_storage"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_moruses_storage</span></code></a>).
If false, the thermal conductivity of the soil (hcons) is erroneously
set to zero, which causes the roof to be effectively uncoupled when
<a class="reference internal" href="jules_vegetation.nml.html#JULES_VEGETATION::l_vegcan_soilfx" title="JULES_VEGETATION::l_vegcan_soilfx"><code class="xref nml nml-mem docutils literal notranslate"><span class="pre">l_vegcan_soilfx</span></code></a>.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_osa_chloro">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_osa_chloro</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_osa_chloro" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>When set to false, the chlorophyll content used to determine the optical
properties of water, for the ocean surface albedo, are specified in gm-3
when the parameterisation they use is defined in mg m-3.
It is a short term logical until the code becomes the new default.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_snow_frac">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_snow_frac</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_snow_frac" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>When set to  false, there is the potential to have small snow mass, but a
zero snow fraction due to machine precision in the calculations. This
prevents sublimation or snow melt from removing the remaining snow mass,
hence small values can persist.
In addition to this there is a conceptual bug in the calculation of
the fraction of potential evaporation because it does not add in canopy
evaporation when the snow fraction is less than one.
When set to true these issues are corrected and in addition the radiation
calculations for snow fraction are also made consistent.</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_ustar_dust">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_ustar_dust</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_ustar_dust" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>If true, corrects how ustar is calculated in the exchange
coefficient for dust deposition</p>
</dd></dl>

<dl class="member">
<dt id="JULES_TEMP_FIXES::l_fix_wind_snow">
<code class="descclassname">JULES_TEMP_FIXES::</code><code class="descname">l_fix_wind_snow</code><a class="headerlink" href="#JULES_TEMP_FIXES::l_fix_wind_snow" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body">logical</td>
</tr>
<tr class="field-even field"><th class="field-name">Default:</th><td class="field-body">F</td>
</tr>
</tbody>
</table>
<p>If true, ensures that wind speed is calculated for use in snow unloading.
If false, the wind speed for unloading will be zero on timesteps when
10m wind diagnostics are not calculated. This will tend to leave more
snow on the vegetation.
It is a short term logical until the code becomes the new default.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/jules_logo_html.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">6.18. <code class="docutils literal notranslate"><span class="pre">science_fixes.nml</span></code></a><ul>
<li><a class="reference internal" href="#namelist-JULES_TEMP_FIXES">6.18.1. <code class="docutils literal notranslate"><span class="pre">JULES_TEMP_FIXES</span></code> namelist members</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="jules_irrig.nml.html"
                        title="previous chapter">6.17. <code class="docutils literal notranslate"><span class="pre">jules_irrig.nml</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="timesteps.nml.html"
                        title="next chapter">6.19. <code class="docutils literal notranslate"><span class="pre">timesteps.nml</span></code></a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../nml-modindex.html" title="Fortran Namelist Index"
             >namelists</a> |</li>
        <li class="right" >
          <a href="timesteps.nml.html" title="6.19. timesteps.nml"
             >next</a> |</li>
        <li class="right" >
          <a href="jules_irrig.nml.html" title="6.17. jules_irrig.nml"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">Joint UK Land Environment Simulator (JULES) v7.0 User Guide</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="contents.html" >6. The JULES namelist files</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Crown Copyright 2019.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.8.5.
    </div>

  </body>
</html>